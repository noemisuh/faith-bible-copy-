# í™˜ê²½ ì´ˆê¸°í™” ì´í›„ ë‹¤ì‹œ ë§ˆíƒœë³µìŒ 1ì¥ ë§ˆì´í¬ í•˜ë‹¨ ê³ ì •í˜• HTML ì¬ìƒì„± ë° ì••ì¶•

import os
from zipfile import ZipFile

verses = [
    "äºšä¼¯æ‹‰ç½•çš„åè£”ã€å¤§å«çš„å­å­™ã€è€¶ç¨£åŸºç£çš„å®¶è°±ï¼š",
    "äºšä¼¯æ‹‰ç½•ç”Ÿä»¥æ’’ï¼›ä»¥æ’’ç”Ÿé›…å„ï¼›é›…å„ç”ŸçŠ¹å¤§å’Œä»–çš„å¼Ÿå…„ï¼›",
    "çŠ¹å¤§ä»ä»–ç›æ°ç”Ÿæ³•å‹’æ–¯å’Œè°¢æ‹‰ï¼›æ³•å‹’æ–¯ç”Ÿå¸Œæ–¯ä»‘ï¼›å¸Œæ–¯ä»‘ç”Ÿäºšå…°ï¼›",
    "äºšå…°ç”Ÿäºšç±³æ‹¿è¾¾ï¼›äºšç±³æ‹¿è¾¾ç”Ÿæ‹¿é¡ºï¼›æ‹¿é¡ºç”Ÿæ’’é—¨ï¼›",
    "æ’’é—¨ä»å–‡åˆæ°ç”Ÿæ³¢é˜¿æ–¯ï¼›æ³¢é˜¿æ–¯ä»è·¯å¾—æ°ç”Ÿä¿„å¤‡å¾—ï¼›ä¿„å¤‡å¾—ç”Ÿè€¶è¥¿ï¼›",
    "è€¶è¥¿ç”Ÿå¤§å«ç‹ï¼›å¤§å«ä»ä¹Œåˆ©äºšçš„å¦»å­ç”Ÿæ‰€ç½—é—¨ï¼›",
    "æ‰€ç½—é—¨ç”Ÿç½—æ³¢å®‰ï¼›ç½—æ³¢å®‰ç”Ÿäºšæ¯”é›…ï¼›äºšæ¯”é›…ç”Ÿäºšæ’’ï¼›",
    "äºšæ’’ç”Ÿçº¦æ²™æ³•ï¼›çº¦æ²™æ³•ç”Ÿçº¦å…°ï¼›çº¦å…°ç”Ÿä¹Œè¥¿äºšï¼›",
    "ä¹Œè¥¿äºšç”Ÿçº¦å¦ï¼›çº¦å¦ç”Ÿäºšå“ˆæ–¯ï¼›äºšå“ˆæ–¯ç”Ÿå¸Œè¥¿å®¶ï¼›",
    "å¸Œè¥¿å®¶ç”Ÿç›æ‹¿è¥¿ï¼›ç›æ‹¿è¥¿ç”Ÿäºšä»¬ï¼›äºšä»¬ç”Ÿçº¦è¥¿äºšï¼›",
    "ç™¾å§“è¢«è¿åˆ°å·´æ¯”ä¼¦çš„æ—¶å€™ã€çº¦è¥¿äºšç”Ÿè€¶å“¥å°¼é›…å’Œä»–çš„å¼Ÿå…„ï¼›",
    "è¿åˆ°å·´æ¯”ä¼¦ä¹‹åã€è€¶å“¥å°¼é›…ç”Ÿæ’’æ‹‰é“ï¼›æ’’æ‹‰é“ç”Ÿæ‰€ç½—å·´ä¼¯ï¼›",
    "æ‰€ç½—å·´ä¼¯ç”Ÿäºšæ¯”ç‰ï¼›äºšæ¯”ç‰ç”Ÿä»¥åˆ©äºšæ•¬ï¼›ä»¥åˆ©äºšæ•¬ç”Ÿäºšæ‰€ï¼›",
    "äºšæ‰€ç”Ÿæ’’ç£ï¼›æ’’ç£ç”Ÿäºšé‡‘ï¼›äºšé‡‘ç”Ÿä»¥å¾‹ï¼›",
    "ä»¥å¾‹ç”Ÿä»¥åˆ©äºšæ’’ï¼›ä»¥åˆ©äºšæ’’ç”Ÿé©¬ä½†ï¼›é©¬ä½†ç”Ÿé›…å„ï¼›",
    "é›…å„ç”Ÿçº¦ç‘Ÿï¼Œå°±æ˜¯é©¬åˆ©äºšçš„ä¸ˆå¤«ï¼›é‚£ç§°ä¸ºåŸºç£çš„è€¶ç¨£ï¼Œæ˜¯ä»é©¬åˆ©äºšç”Ÿçš„ã€‚",
    "è¿™æ ·ï¼Œä»äºšä¼¯æ‹‰ç½•åˆ°å¤§å«å…±åå››ä»£ï¼›ä»å¤§å«åˆ°è¿åˆ°å·´æ¯”ä¼¦çš„æ—¶å€™ä¹Ÿå…±åå››ä»£ï¼›ä»è¿åˆ°å·´æ¯”ä¼¦çš„æ—¶å€™åˆ°åŸºç£åˆå…±åå››ä»£ã€‚",
    "è€¶ç¨£åŸºç£é™ç”Ÿçš„äº‹è®°åœ¨ä¸‹é¢ï¼šä»–æ¯äº²é©¬åˆ©äºšå·²ç»è®¸é…äº†çº¦ç‘Ÿï¼Œè¿˜æ²¡æœ‰è¿å¨¶ï¼Œé©¬åˆ©äºšå°±ä»åœ£çµæ€€äº†å­•ã€‚",
    "å¥¹ä¸ˆå¤«çº¦ç‘Ÿæ˜¯ä¸ªä¹‰äººï¼Œä¸æ„¿æ„æ˜æ˜åœ°ç¾è¾±å¥¹ï¼Œæƒ³è¦æš—æš—åœ°æŠŠå¥¹ä¼‘äº†ã€‚",
    "æ­£æ€å¿µè¿™äº‹çš„æ—¶å€™ï¼Œæœ‰ä¸»çš„ä½¿è€…å‘ä»–æ¢¦ä¸­æ˜¾ç°ï¼Œè¯´ï¼šâ€œå¤§å«çš„å­å­™çº¦ç‘Ÿï¼Œä¸è¦æ€•ï¼Œåªç®¡å¨¶è¿‡ä½ çš„å¦»å­é©¬åˆ©äºšæ¥ã€‚å› å¥¹æ‰€æ€€çš„å­•ï¼Œæ˜¯ä»åœ£çµæ¥çš„ã€‚",
    "å¥¹å°†è¦ç”Ÿä¸€ä¸ªå„¿å­ï¼Œä½ è¦ç»™ä»–èµ·åå«è€¶ç¨£ï¼Œå› ä»–è¦å°†è‡ªå·±çš„ç™¾å§“ä»ç½ªæ¶é‡Œæ•‘å‡ºæ¥ã€‚â€",
    "è¿™ä¸€åˆ‡çš„äº‹æˆå°±ï¼Œæ˜¯è¦åº”éªŒä¸»å€Ÿå…ˆçŸ¥æ‰€è¯´çš„è¯ï¼š",
    "è¯´ï¼šâ€œå¿…æœ‰ç«¥å¥³æ€€å­•ç”Ÿå­ï¼Œäººè¦ç§°ä»–çš„åä¸ºä»¥é©¬å†…åˆ©ã€‚â€ï¼ˆâ€œä»¥é©¬å†…åˆ©â€ç¿»å‡ºæ¥å°±æ˜¯â€œç¥ä¸æˆ‘ä»¬åŒåœ¨â€ã€‚ï¼‰",
    "çº¦ç‘Ÿé†’äº†ï¼Œèµ·æ¥ï¼Œå°±éµç€ä¸»ä½¿è€…çš„å©å’æŠŠå¦»å­å¨¶è¿‡æ¥ï¼›",
    "åªæ˜¯æ²¡æœ‰å’Œå¥¹åŒæˆ¿ï¼Œç­‰å¥¹ç”Ÿäº†å„¿å­ï¼Œå°±ç»™ä»–èµ·åå«è€¶ç¨£ã€‚"
]

output_dir = "/mnt/data/matthew1_mic_fixed"
os.makedirs(output_dir, exist_ok=True)
html_path = os.path.join(output_dir, "matthew1_mic_fixed.html")

# HTML ìƒì„±
html = """<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>é©¬å¤ªç¦éŸ³ ç¬¬1ç« </title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body { font-family: sans-serif; margin: 0; background: #f9f9f9; }
.container { max-width: 800px; margin: 0 auto; padding: 20px; }
.top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.top-bar a { text-decoration: none; color: #1a73e8; font-size: 14px; }
.search-boxes input { padding: 5px; margin-left: 4px; font-size: 14px; width: 120px; }
h1 { font-size: 18px; text-align: center; margin: 10px 0; }
.nav { text-align: center; margin-bottom: 10px; }
.nav a { margin: 0 10px; font-size: 14px; text-decoration: none; color: #1a73e8; }
.verse { margin-bottom: 12px; }
.scripture { background: #e8f0fe; padding: 10px; border-left: 4px solid #4285f4; font-size: 14px; line-height: 1.4; }
textarea { width: 100%; font-size: 14px; padding: 8px; border: 1px solid #ccc; border-radius: 4px; resize: none; min-height: 50px; }
#micFixed {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #1a73e8;
  color: white;
  padding: 14px 16px;
  font-size: 18px;
  border: none;
  border-radius: 50%;
  z-index: 999;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}
</style>
<script>
let currentTarget = null;
document.addEventListener('DOMContentLoaded', () => {
  const textareas = document.querySelectorAll("textarea");
  textareas.forEach(area => {
    area.addEventListener("focus", () => {
      currentTarget = area;
    });
  });
});
function startGlobalListening() {
  if (!currentTarget) {
    alert("è¯·å…ˆç‚¹å‡»æƒ³è¦è¾“å…¥çš„ç»æ–‡æ ã€‚");
    return;
  }
  const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  recognition.lang = 'zh-CN';
  recognition.onresult = function(event) {
    currentTarget.value += event.results[0][0].transcript;
  };
  recognition.start();
}
</script>
</head>
<body>
<div class="container">
  <div class="top-bar">
    <a href="#">ğŸ“š åœ£ç»ç›®å½•</a>
    <div class="search-boxes">
      <input type="text" placeholder="ğŸ” ç« èŠ‚æœç´¢...">
      <input type="text" placeholder="ğŸ” å…³é”®è¯æœç´¢...">
    </div>
  </div>
  <h1>ğŸ“– é©¬å¤ªç¦éŸ³</h1>
  <div class="nav">
    <a href="#">â† ç¬¬0ç« </a> <strong>ç¬¬1ç« </strong> <a href="#">ç¬¬2ç«  â†’</a>
  </div>
"""

# êµ¬ì ˆ ì‚½ì…
for i, verse in enumerate(verses, 1):
    html += f"""
    <div class="verse">
      <div class="scripture"><strong>{i}èŠ‚</strong> {verse}</div>
      <textarea placeholder="è¯·æŠ„å†™æˆ–ä½¿ç”¨è¯­éŸ³è¾“å…¥..."></textarea>
    </div>
    """

html += """
</div>
<button id="micFixed" onclick="startGlobalListening()">ğŸ™</button>
</body>
</html>
"""

# ì €ì¥
with open(html_path, "w", encoding="utf-8") as f:
    f.write(html)

# ì••ì¶•
zip_path = "/mnt/data/matthew1_mic_fixed.zip"
with ZipFile(zip_path, "w") as zipf:
    zipf.write(html_path, arcname="matthew1_mic_fixed.html")

zip_path
